(this["webpackJsonpreact-starter"]=this["webpackJsonpreact-starter"]||[]).push([[0],{228:function(e,t,a){},275:function(e,t,a){e.exports=a.p+"static/media/avatar.f77e84cb.jpeg"},276:function(e,t,a){},314:function(e,t,a){e.exports=a(528)},320:function(e,t,a){},397:function(e,t,a){},405:function(e,t,a){},528:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(0),l=a.n(r),c=a(18),o=a.n(c),i=a(44),u=a(38),s=a(14),m=a(309);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=["./src/static/css/normalizer.css","./src/static/font/Yekan.eot","./src/static/font/Yekan.ttf","./src/static/font/Yekan.eot","./src/static/font/Yekan.woff"];window.addEventListener("install",(function(e){console.log("[ServiceWorker] Install"),e.waitUntil(caches.open("static-cache-v1").then((function(e){return console.log("[ServiceWorker] Pre-caching offline page"),e.addAll(d)}))),window.skipWaiting()})),window.addEventListener("activate",(function(e){console.log("[ServiceWorker] Activate"),e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){if("static-cache-v1"!==e)return console.log("[ServiceWorker] Removing old cache",e),caches.delete(e)})))}))),window.clients.claim()})),window.addEventListener("fetch",(function(e){console.log("[ServiceWorker] Fetch",e.request.url),e.request.mode}));var b={Driver:0,Customer:1,Authorizer:2,Admin:3},E=(a(319),a(320),a(531)),g=a(115),v=a(546),f=a(547),p=a(548),h=a(544),I=a(47),O=a(73),j=a.n(O),y=a(96),C=a(7),k=a(539),S=a(543),N=a(545),L=a(15),x=a(63),D=function(e){var t=e.error,a=Object(r.useState)(!0),n=Object(C.a)(a,2),c=n[0],o=n[1];return l.a.createElement(k.a,{title:"\u062e\u0637\u0627 \u0628\u0647 \u0648\u062c\u0648\u062f \u0622\u0645\u062f\u0647 \u0627\u0633\u062a",visible:c,onOk:function(){o(!1)},cancelButtonProps:{type:"text"},okText:"\u062a\u0627\u06cc\u06cc\u062f",cancelText:" "},l.a.createElement("p",null,"\u0645\u062a\u0646 \u062e\u0637\u0627:",t.message))};function w(){var e=Object(n.a)(["\n  mutation($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return w=function(){return e},e}function A(){var e=Object(n.a)(["\n    {\n        me{\n            isDriver\n            isAuthorizer\n            isCustomer\n            isSuperuser\n        }\n    }\n"]);return A=function(){return e},e}Object(x.gql)(A());var z=Object(x.gql)(w()),$=function(e){var t=Object(r.useState)(!1),a=Object(C.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(""),i=Object(C.a)(o,2),u=i[0],s=i[1],m=Object(r.useState)(""),d=Object(C.a)(m,2),E=d[0],g=d[1],v=[];v[b.Driver]=!0,v[b.Customer]=!0,v[b.Authorizer]=!0,v[b.Admin]=!0;var f=function(){c(!0)},p=function(e){console.log(e),c(!1)},O=function(){var t=Object(y.a)(j.a.mark((function t(a,n,r){var l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,n();case 3:if(l=t.sent,localStorage.setItem("authToken",l.data.tokenAuth.token),o=b[e.type],!v[o]){t.next=22;break}console.log("This is "+e.type.toLowerCase()+"!"),t.t0=e.type,t.next="Driver"===t.t0?11:"Authorizer"===t.t0?13:"Customer"===t.t0?15:"Admin"===t.t0?17:19;break;case 11:return r.writeData({data:{isDriverLoggedIn:!0,isCustomerLoggedIn:!1,isAuthorizerLoggedIn:!1,isAdminLoggedIn:!1}}),t.abrupt("break",19);case 13:return r.writeData({data:{isDriverLoggedIn:!1,isCustomerLoggedIn:!1,isAuthorizerLoggedIn:!0,isAdminLoggedIn:!1}}),t.abrupt("break",19);case 15:return r.writeData({data:{isDriverLoggedIn:!1,isCustomerLoggedIn:!0,isAuthorizerLoggedIn:!1,isAdminLoggedIn:!1}}),t.abrupt("break",19);case 17:return r.writeData({data:{isDriverLoggedIn:!1,isCustomerLoggedIn:!1,isAuthorizerLoggedIn:!1,isAdminLoggedIn:!0}}),t.abrupt("break",19);case 19:localStorage.setItem("userType",o),t.next=24;break;case 22:localStorage.removeItem("authToken"),r.writeData({data:{isDriverLoggedIn:!1,isCustomerLoggedIn:!1,isAuthorizerLoggedIn:!1,isAdminLoggedIn:!1}});case 24:c(!1);case 25:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}();return l.a.createElement(L.c,{mutation:z,variables:{username:u,password:E}},(function(t,a){var r=a.loading,c=a.error,o=(a.called,a.client);return l.a.createElement("div",null,l.a.createElement(I.a,{block:!0,onClick:f,disabled:r},r?"\u062f\u0631 \u062d\u0627\u0644 \u0648\u0631\u0648\u062f ...":"\u0648\u0631\u0648\u062f"),"\u200d",l.a.createElement(k.a,{title:["\u0648\u0631\u0648\u062f \u0631\u0627\u0646\u0646\u062f\u0647 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647","\u0648\u0631\u0648\u062f \u0635\u0627\u062d\u0628 \u0628\u0627\u0631 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647","\u0648\u0631\u0648\u062f \u0645\u062f\u06cc\u0631\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647","\u0648\u0631\u0648\u062f \u0645\u062f\u06cc\u0631 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647"][b[e.type]],visible:n,onOk:function(e){return O(e,t,o)},okButtonProps:{href:"/"},onCancel:p,okText:"\u0648\u0631\u0648\u062f",cancelText:"\u0644\u063a\u0648"},l.a.createElement("p",null,l.a.createElement(S.a,{size:"large",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",onChange:function(e){return s(e.target.value)},prefix:l.a.createElement(h.a,null)})),l.a.createElement("p",null,l.a.createElement(S.a.Password,{size:"large",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",onChange:function(e){return g(e.target.value)},prefix:l.a.createElement(N.a,null)}))),c&&l.a.createElement(D,{error:c}))}))},U=function(e){var t=Object(r.useState)(!1),a=Object(C.a)(t,2),n=a[0],c=a[1];return l.a.createElement(L.a,null,(function(e){return l.a.createElement("div",null,l.a.createElement(I.a,{block:!0,onClick:function(){return c(!0)}},"\u062e\u0631\u0648\u062c"),l.a.createElement(k.a,{title:"\u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f \u0645\u06cc\u062e\u0648\u0627\u0647\u06cc\u062f \u062e\u0627\u0631\u062c \u0634\u0648\u06cc\u062f\u061f",visible:n,onOk:function(){return function(e){localStorage.removeItem("authToken"),localStorage.removeItem("userType"),e.writeData({data:{isDriverLoggedIn:!1}}),e.writeData({data:{isCustomerLoggedIn:!1}}),e.writeData({data:{isAuthorizerLoggedIn:!1}}),console.log("Signed out user",e)}(e)},onCancel:function(){return c(!1)},okButtonProps:{href:"/"},okText:"\u0628\u0644\u0647",cancelText:"\u062e\u06cc\u0631"}))}))};function T(){var e=Object(n.a)(["\n    {\n        me{\n            isDriver\n            isAuthorizer\n            isCustomer\n            isSuperuser\n        }\n    }\n"]);return T=function(){return e},e}Object(x.gql)(T()),a(397);var B=g.a.SubMenu,q=E.a.Sider,V=function(e){return l.a.createElement(q,{width:250,className:"site-layout-background"},l.a.createElement(g.a,{mode:"inline",className:"sidebar",defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},l.a.createElement(B,{key:"sub1",icon:l.a.createElement(v.a,null),title:"\u0635\u0627\u062d\u0628 \u0628\u0627\u0631"},e.isLoggedIn[b.Customer]||e.isLoggedIn[b.Driver]||e.isLoggedIn[b.Authorizer]||e.isLoggedIn[b.Admin]?l.a.createElement("div",null):l.a.createElement(g.a.Item,{key:"14"},l.a.createElement($,{type:"Customer"}," ")),e.isLoggedIn[b.Customer]?l.a.createElement(g.a.Item,{key:"1"},l.a.createElement(u.b,{to:"/user/".concat(e.currentUser.id,"}/profile")},"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644")):l.a.createElement("div",null),e.isLoggedIn[b.Customer]?l.a.createElement(g.a.Item,{key:"2"},l.a.createElement(u.b,{to:"/customer/".concat(e.currentUser.id,"}/orderList")},"\u0633\u0641\u0627\u0631\u0634\u0627\u062a")):l.a.createElement("div",null),e.isLoggedIn[b.Customer]?l.a.createElement(g.a.Item,{key:"3"},l.a.createElement(u.b,{to:"/customer/".concat(e.currentUser.id,"}/addOrder")},"\u062b\u0628\u062a \u0633\u0641\u0627\u0631\u0634")):l.a.createElement("div",null),e.isLoggedIn[b.Customer]?l.a.createElement(g.a.Item,{key:"4"},l.a.createElement(u.b,{to:"/customer/".concat(e.currentUser.id,"}/driverList")},"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627")):l.a.createElement("div",null)),e.isLoggedIn[b.Customer]?l.a.createElement(g.a.Item,{key:"30"},l.a.createElement(U,{type:"Customer"})):l.a.createElement("div",null," "),l.a.createElement(B,{key:"sub3",icon:l.a.createElement(f.a,null),title:"\u0631\u0627\u0646\u0646\u062f\u0647"},e.isLoggedIn[b.Customer]||e.isLoggedIn[b.Driver]||e.isLoggedIn[b.Authorizer]||e.isLoggedIn[b.Admin]?l.a.createElement("div",null):l.a.createElement(g.a.Item,{key:"5"},l.a.createElement($,{type:"Driver"}," ")),e.isLoggedIn[b.Customer]||e.isLoggedIn[b.Driver]||e.isLoggedIn[b.Authorizer]||e.isLoggedIn[b.Admin]?l.a.createElement("div",null):l.a.createElement(g.a.Item,{key:"13"},l.a.createElement(u.b,{to:"/driver/register"},l.a.createElement(I.a,{block:!0},"\u062b\u0628\u062a \u0646\u0627\u0645"))),e.isLoggedIn[b.Driver]?l.a.createElement(g.a.Item,{key:"20"},l.a.createElement(u.b,{to:"/driver/".concat(e.currentUser.id,"}/profile")},"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644")):l.a.createElement("div",null),e.isLoggedIn[b.Driver]?l.a.createElement(g.a.Item,{key:"9"},l.a.createElement(u.b,{to:"/driver/".concat(e.currentUser.id,"}/history")},"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u0628\u0627\u0631")):l.a.createElement("div",null),e.isLoggedIn[b.Driver]?l.a.createElement(g.a.Item,{key:"10"},l.a.createElement(u.b,{to:"/driver/".concat(e.currentUser.id,"}/crash")},"\u0627\u0639\u0644\u0627\u0645 \u062d\u0627\u062f\u062b\u0647")):l.a.createElement("div",null),e.isLoggedIn[b.Driver]?l.a.createElement(g.a.Item,{key:"11"},l.a.createElement(u.b,{to:"/driver/".concat(e.currentUser.id,"}/addVehicle")},"\u062b\u0628\u062a \u062e\u0648\u062f\u0631\u0648 \u062d\u0645\u0644\u200c\u0628\u0627\u0631 \u062c\u062f\u06cc\u062f")):l.a.createElement("div",null),e.isLoggedIn[b.Driver]?l.a.createElement(g.a.Item,{key:"40"},l.a.createElement(U,{type:"Driver"})):l.a.createElement("div",null," ")),l.a.createElement(B,{key:"sub4",icon:l.a.createElement(p.a,null),title:"\u0645\u062f\u06cc\u0631 \u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a"},e.isLoggedIn[b.Customer]||e.isLoggedIn[b.Driver]||e.isLoggedIn[b.Authorizer]||e.isLoggedIn[b.Admin]?l.a.createElement("div",null):l.a.createElement(g.a.Item,{key:"14"},l.a.createElement($,{type:"Authorizer"}," ")),e.isLoggedIn[b.Authorizer]?l.a.createElement(g.a.Item,{key:"22"},l.a.createElement(u.b,{to:"/authorizer/".concat(e.currentUser.id,"}/authorizeDrivers")},"\u0644\u06cc\u0633\u062a \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627\u06cc \u062b\u0628\u062a \u0646\u0627\u0645")):l.a.createElement("div",null),e.isLoggedIn[b.Authorizer]?l.a.createElement(g.a.Item,{key:"30"},l.a.createElement(U,{type:"Customer"})):l.a.createElement("div",null," ")),l.a.createElement(B,{key:"sub2",icon:l.a.createElement(h.a,null),title:"\u0645\u062f\u06cc\u0631 \u0633\u0627\u0645\u0627\u0646\u0647"},e.isLoggedIn[b.Customer]||e.isLoggedIn[b.Driver]||e.isLoggedIn[b.Authorizer]||e.isLoggedIn[b.Admin]?l.a.createElement("div",null):l.a.createElement(g.a.Item,{key:"17"},l.a.createElement($,{type:"Admin"}," ")),e.isLoggedIn[b.Admin]?l.a.createElement(g.a.Item,{key:"23"},l.a.createElement(u.b,{to:"/admin/allAuthorizersList"},"\u0644\u06cc\u0633\u062a \u0645\u062f\u06cc\u0631\u0627\u0646 \u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a")):l.a.createElement("div",null),e.isLoggedIn[b.Admin]?l.a.createElement(g.a.Item,{key:"23"},l.a.createElement(u.b,{to:"/admin/allCustomersList"},"\u0644\u06cc\u0633\u062a \u0645\u0634\u062a\u0631\u06cc\u0627\u0646")):l.a.createElement("div",null),e.isLoggedIn[b.Admin]?l.a.createElement(g.a.Item,{key:"23"},l.a.createElement(u.b,{to:"/admin/allDriversList"},"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627")):l.a.createElement("div",null),e.isLoggedIn[b.Admin]?l.a.createElement(g.a.Item,{key:"30"},l.a.createElement(U,{type:"Admin"})):l.a.createElement("div",null," "))))},P=(a(405),E.a.Header),R=E.a.Content,W=function(e){var t=e.isLoggedIn,a=e.currentUser,n=e.content;return l.a.createElement(E.a,null,l.a.createElement(P,{className:"header"},l.a.createElement("div",{className:"logo"}),l.a.createElement(g.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},l.a.createElement(g.a.Item,{key:"1"},l.a.createElement(u.b,{to:"/"},"\u062e\u0627\u0646\u0647")),l.a.createElement(g.a.Item,{key:"2"},l.a.createElement(u.b,{to:"/install"},"\u0646\u0635\u0628 \u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646")),l.a.createElement(g.a.Item,{key:"3"},"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"),l.a.createElement(g.a.Item,{key:"4"},"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0627"))),l.a.createElement(E.a,null,l.a.createElement(V,{isLoggedIn:t,currentUser:a}),l.a.createElement(E.a,{className:"nav-layout"},l.a.createElement(R,{className:"site-layout-background"},n))))},Y=a(99),Z=a(100),_=a(102),M=a(101),F=a(540),H=a(549),J=F.a.Title,G=function(e){Object(_.a)(a,e);var t=Object(M.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"componentDidMount",value:function(){var e,t=document.querySelector("#banner");window.addEventListener("beforeinstallprompt",(function(t){return t.preventDefault(),console.log("beforeinstallprompt fired! ^_^"),e=t,!1})),t.addEventListener("click",(function(){void 0!==e&&(e.prompt(),e.userChoice.then((function(t){"dismissed"===t.outcome?console.log("cancelled"):console.log("added to homescreen"),e=null})))}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(J,{level:3},"\u0628\u0631\u0627\u06cc \u0646\u0635\u0628 \u0646\u0631\u0645\u200c\u0627\u0641\u0632\u0627\u0631 \u0634\u0631\u06a9\u062a \u067e\u0631\u0628\u0627\u0631 \u06a9\u0627\u0641\u06cc \u0627\u0633\u062a \u06a9\u0647 \u0631\u0648\u06cc \u062f\u06a9\u0645\u0647\u200c\u06cc \u0646\u0635\u0628 \u0632\u06cc\u0631 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."),l.a.createElement("div",null,l.a.createElement(I.a,{type:"primary",icon:l.a.createElement(H.a,null),id:"banner"},"\u0646\u0635\u0628 \u06a9\u0631\u062f\u0646 \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u06cc \u0645\u0648\u0628\u0627\u06cc\u0644")))}}]),a}(r.Component),K=a(290),X=a.n(K),Q=function(){return l.a.createElement("div",null,l.a.createElement(X.a,{size:120,spinnerColor:"#333",spinnerWidth:2,visible:!0}))},ee=a(30),te=a(541),ae=a(536),ne=a(537),re=a(550);a(82);function le(){var e=Object(n.a)(["\n  mutation ($driverData: DriverInput!) {\n  createDriver(driverData: $driverData) {\n    driver{\n       user{\n        firstName\n        lastName\n       }\n    }\n  }\n}\n"]);return le=function(){return e},e}var ce={labelCol:{span:6},wrapperCol:{span:14}},oe=Object(ee.b)(le()),ie=function(){var e=Object(r.useState)(""),t=Object(C.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(C.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)(""),m=Object(C.a)(s,2),d=m[0],b=m[1],E=Object(r.useState)(!1),g=Object(C.a)(E,2),v=g[0],f=g[1],p=Object(r.useState)(""),h=Object(C.a)(p,2),O=h[0],j=h[1],y=Object(r.useState)(!1),N=Object(C.a)(y,2),x=N[0],w=N[1],A=Object(r.useState)(""),z=Object(C.a)(A,2),$=z[0],U=z[1],T=Object(r.useState)(!1),B=Object(C.a)(T,2),q=B[0],V=B[1],P=Object(r.useState)(""),R=Object(C.a)(P,2),W=R[0],Y=R[1],Z=Object(r.useState)(!1),_=Object(C.a)(Z,2),M=_[0],F=_[1],H=Object(r.useState)(""),J=Object(C.a)(H,2),G=J[0],K=J[1],X=Object(r.useState)(!1),Q=Object(C.a)(X,2),ee=Q[0],le=Q[1],ie=Object(r.useState)(null),ue=Object(C.a)(ie,2),se=(ue[0],ue[1]),me=Object(r.useState)(!1),de=Object(C.a)(me,2),be=de[0],Ee=de[1],ge=Object(r.useState)(""),ve=Object(C.a)(ge,2),fe=ve[0],pe=ve[1],he=Object(r.useState)(!1),Ie=Object(C.a)(he,2),Oe=Ie[0],je=Ie[1],ye=Object(r.useState)(!1),Ce=Object(C.a)(ye,2),ke=(Ce[0],Ce[1],Object(r.useState)(null)),Se=Object(C.a)(ke,2),Ne=(Se[0],Se[1]),Le=Object(r.useState)(!1),xe=Object(C.a)(Le,2),De=(xe[0],xe[1],function(e){return console.log("Upload event:",e.file),Ne(e.file),Array.isArray(e)?e:e&&e.fileList});return l.a.createElement("div",null,l.a.createElement(L.c,{mutation:oe,variables:{driverData:{user:{firstName:$,lastName:W,username:a,email:d,phoneNo:fe,password:O},nationalId:G}},onCompleted:function(e){var t;t=" \u062b\u0628\u062a \u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647 \u062f\u0631 \u0633\u0627\u0645\u0627\u0646\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u062b\u0628\u062a \u0634\u062f",k.a.info({title:t,onOk:function(){}})}},(function(e,t){var a=t.loading,r=t.error;return l.a.createElement(te.a,Object.assign({className:"registration-form",name:"user registration"},ce),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{id:"name",onChange:function(e){U(e.target.value),V(!0)},placeholder:"\u0645\u0635\u0637\u0641\u06cc"})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{id:"familyName",onChange:function(e){Y(e.target.value),F(!0)},placeholder:"\u062e\u0645\u06cc\u0646\u06cc"})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},l.a.createElement(S.a,{id:"username",onChange:function(e){n(e.target.value),u(!0)}})),l.a.createElement(te.a.Item,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},l.a.createElement(S.a,{id:"password",onChange:function(e){j(e.target.value),w(!0)}})),l.a.createElement(te.a.Item,{label:"\u0627\u06cc\u0645\u06cc\u0644"},l.a.createElement(S.a,{id:"email",onChange:function(e){null!=e.target.value.match("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[.][A-Za-z]{2,}$")?(b(e.target.value),f(!0),document.getElementById("email").style.backgroundColor="white"):(f(!1),document.getElementById("email").style.backgroundColor="pink")}})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{id:"phoneNumber",onChange:function(e){null!=e.target.value.match("^[0-9]{8,11}$")?(pe(e.target.value),je(!0),document.getElementById("phoneNumber").style.backgroundColor="white"):(je(!1),document.getElementById("phoneNumber").style.backgroundColor="pink")},placeholder:"09092929912"})),l.a.createElement(te.a.Item,{label:"\u06a9\u062f \u0645\u0644\u06cc"},l.a.createElement(S.a,{id:"nationalId",onChange:function(e){null!=e.target.value.match("^[0-9]{10}$")?(K(e.target.value),le(!0),document.getElementById("nationalId").style.backgroundColor="white"):(document.getElementById("nationalId").style.backgroundColor="pink",le(!1))},placeholder:"0020996519"})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(ae.a,{id:"birthDay",onChange:function(e){se(e),Ee(!0)}})),l.a.createElement(te.a.Item,{name:"\u0639\u06a9\u0633 \u067e\u0631\u0633\u0646\u0644\u06cc",label:"\u0639\u06a9\u0633 \u067e\u0631\u0633\u0646\u0644\u06cc",valuePropName:"fileList",getValueFromEvent:De},l.a.createElement(ne.a,{name:"logo",action:"/upload.do",listType:"picture"},l.a.createElement(I.a,null,l.a.createElement(re.a,null)," \u0639\u06a9\u0633 \u062e\u0648\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"))),l.a.createElement(te.a.Item,{wrapperCol:{span:12,offset:6}},l.a.createElement(I.a,{type:"primary",htmlType:"submit",disabled:a||!q||!M||!i||!ee||!be||!v||!x||!Oe,onClick:function(t){return function(e,t){console.log("In the handleSubmit"),e.preventDefault(),t()}(t,e)}},a?"\u062f\u0631 \u062d\u0627\u0644 \u062b\u0628\u062a \u06a9\u0631\u062f\u0646...":"\u062b\u0628\u062a \u06a9\u0646")),r&&l.a.createElement(D,{error:r}))})))},ue=a(532),se=a(538),me=a(138),de=a(81),be=a(542),Ee=se.a.Meta,ge={labelCol:{span:6},wrapperCol:{span:14}},ve=function(e){var t=e.driver;return l.a.createElement(me.a,null,l.a.createElement(de.a,{span:15},l.a.createElement(te.a,Object.assign({name:"user profile"},ge,{onFinish:function(e){console.log("Received values of form: ",e)}}),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{placeholder:t.user.firstName,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{value:t.user.lastName,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u06a9\u062f \u0645\u0644\u06cc"},l.a.createElement(S.a,{placeholder:t.nationalId,type:"tel",disabled:!0})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(S.a,{placeholder:t.birthday,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},l.a.createElement(S.a,{value:t.user.username,type:"tel",disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0627\u06cc\u0645\u06cc\u0644"},l.a.createElement(S.a,{value:t.user.email,type:"tel",disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{value:t.user.phoneNo,type:"tel",disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},l.a.createElement(be.a,{disabled:!0,defaultValue:t.rating})))),l.a.createElement(de.a,{span:9},l.a.createElement(se.a,{style:{width:320},cover:l.a.createElement("img",{alt:"User Profile",src:a(275)}),hoverable:!0},l.a.createElement(Ee,{title:t.firstName,description:"\u0631\u0627\u0646\u0646\u062f\u0647\u200c\u06cc \u062a\u0631\u06cc\u0644\u0631\u060c \u062e\u0627\u0648\u0631\u060c \u0648\u0627\u0646\u062a"}))))},fe=function(e){var t=e.driver;return l.a.createElement("div",{className:"user-profile"},l.a.createElement(ue.a,null,"\u0645\u0634\u062e\u0635\u0627\u062a"),l.a.createElement(ve,{driver:t}))},pe=a(154),he=(a(276),pe.a.Option),Ie=S.a.TextArea,Oe={labelCol:{span:6},wrapperCol:{span:14}},je=function(e){Object(_.a)(a,e);var t=Object(M.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"render",value:function(){return l.a.createElement(te.a,Object.assign({className:"vehicle-add-form",name:"user registration"},Oe,{onFinish:function(e){console.log("Received values of form: ",e)}}),l.a.createElement(te.a.Item,{label:"\u0627\u0646\u062a\u062e\u0627\u0628 \u062e\u0648\u062f\u0631\u0648"},l.a.createElement(pe.a,{placeholder:"\u067e\u0644\u0627\u06a9"},l.a.createElement(he,{value:"1"},"\u06f4\u06f7 \u0644 \u06f7\u06f3\u06f9 \u0627\u06cc\u0631\u0627\u0646 \u06f9\u06f9"),l.a.createElement(he,{value:"2"},"\u06f4\u06f7 \u0633 \u06f2\u06f3\u06f4 \u0627\u06cc\u0631\u0627\u0646 \u06f6\u06f8"))),l.a.createElement(te.a.Item,{label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"},l.a.createElement(Ie,{rows:4,placeholder:"\u0634\u0631\u062d \u0648\u0642\u0648\u0639 \u062d\u0627\u062f\u062b\u0647"})),l.a.createElement(te.a.Item,{wrapperCol:{span:12,offset:6}},l.a.createElement(I.a,{type:"danger",htmlType:"submit"},"\u06af\u0632\u0627\u0631\u0634 \u062d\u0627\u062f\u062b\u0647")))}}]),a}(r.Component),ye=a(202),Ce=pe.a.Option,ke={labelCol:{span:6},wrapperCol:{span:14}},Se=function(e){Object(_.a)(a,e);var t=Object(M.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(Z.a)(a,[{key:"render",value:function(){return l.a.createElement(te.a,Object.assign({className:"vehicle-add-form",name:"user registration"},ke,{onFinish:function(e){console.log("Received values of form: ",e)}}),l.a.createElement(te.a.Item,{label:"\u0646\u0648\u0639 \u0633\u0648\u0627\u0631\u06cc"},l.a.createElement(pe.a,{placeholder:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0648\u0639 \u0633\u0648\u0627\u0631\u06cc"},l.a.createElement(Ce,{value:"trailer"},"\u062a\u0631\u06cc\u0644\u0631"),l.a.createElement(Ce,{value:"truck"},"\u06a9\u0627\u0645\u06cc\u0648\u0646"),l.a.createElement(Ce,{value:"khavar"},"\u062e\u0627\u0648\u0631"),l.a.createElement(Ce,{value:"vanet"},"\u0648\u0627\u0646\u062a"))),l.a.createElement(te.a.Item,{label:"\u0645\u0627\u0644\u06a9"},l.a.createElement(ye.default.Group,null,l.a.createElement(ye.default,{value:"me"},"\u062e\u0648\u062f\u0645"),l.a.createElement(ye.default,{value:"company"},"\u0634\u0631\u06a9\u062a"))),l.a.createElement(te.a.Item,{label:"\u067e\u0644\u0627\u06a9"},l.a.createElement(S.a.Group,{compact:!0},l.a.createElement(te.a.Item,{style:{width:"20%"}},l.a.createElement(S.a,{placeholder:"\u0627\u06cc\u0631\u0627\u0646"})),l.a.createElement(te.a.Item,{style:{width:"40%"}},l.a.createElement(S.a,{placeholder:"\u0633\u0647 \u0631\u0642\u0645 \u0633\u0645\u062a \u0631\u0627\u0633\u062a"})),l.a.createElement(te.a.Item,{style:{width:"10%"}},l.a.createElement(pe.a,{placeholder:"\u062d\u0631\u0641",style:{width:"100%"}},l.a.createElement(Ce,{value:"trailer"},"\u062a\u0631\u06cc\u0644\u0631"),l.a.createElement(Ce,{value:"truck"},"\u06a9\u0627\u0645\u06cc\u0648\u0646"),l.a.createElement(Ce,{value:"khavar"},"\u062e\u0627\u0648\u0631"),l.a.createElement(Ce,{value:"vanet"},"\u0648\u0627\u0646\u062a"))),l.a.createElement(te.a.Item,{style:{width:"30%"}},l.a.createElement(S.a,{placeholder:"\u062f\u0648 \u0631\u0642\u0645 \u0633\u0645\u062a \u0686\u067e"})))),l.a.createElement(te.a.Item,{wrapperCol:{span:12,offset:6}},l.a.createElement(I.a,{type:"primary",htmlType:"submit"},"\u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a")))}}]),a}(r.Component),Ne=a(535);function Le(){var e=Object(n.a)(["\nquery ($id : ID!){\n    driverLoad(id:$id) {\n        id,\n        owner{\n            user{\n                firstName,\n                lastName\n            }\n        },\n        driver{\n            user{\n                firstName,\n                lastName\n            }\n        },\n        destinationAddress,\n        orderCode,\n        transportationCost   \n    }\n}\n"]);return Le=function(){return e},e}var xe=[{title:"\u0635\u0627\u062d\u0628 \u0628\u0627\u0631",dataIndex:"orderer"},{title:"\u062a\u062d\u0648\u06cc\u0644 \u06af\u06cc\u0631\u0646\u062f\u0647",dataIndex:"deliverer"},{title:"\u0647\u0632\u06cc\u0646\u0647 \u0627\u0631\u0633\u0627\u0644",dataIndex:"cost"},{title:"\u0645\u06a9\u0627\u0646 \u0627\u0631\u0633\u0627\u0644",dataIndex:"destAddress"}],De=Object(ee.b)(Le()),we=function(e){var t=e.driver,a={bordered:!0,loading:!1,pagination:!1,size:"default",title:function(){return"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u0628\u0627\u0631"},showHeader:!0,rowSelection:{},scroll:void 0,tableLayout:void 0,top:"none",bottom:"bottomRight"},n=[];return l.a.createElement(L.d,{query:De,variables:{id:t.id}},(function(e){var t=e.data,r=e.loading,c=e.error;return r?l.a.createElement(Q,null):(console.log(t),t.driverLoad.map((function(e){n.push({kay:e.id,orderer:e.owner.user.firstName+" "+e.owner.user.lastName,deliverer:e.driver.user.firstName+" "+e.driver.user.lastName,destAddress:e.destinationAddress,cost:e.transportationCost}),console.log(n)})),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,Object.assign({},a,{columns:xe,dataSource:n})),c&&l.a.createElement(D,{error:c})))}))};function Ae(){var e=Object(n.a)(["\n    query ($id : ID!){\n        driver (id: $id){\n            user{\n                firstName\n                lastName\n                username\n                password\n                phoneNo\n                email\n            }\n            nationalId\n            birthday\n            rating\n            latitude\n            longitude\n            birthday\n            id\n        }\n    }\n    "]);return Ae=function(){return e},e}var ze=l.a.createContext(),$e=Object(ee.b)(Ae()),Ue=function(e){var t=e.isLoggedIn,a=e.currentUser;return console.log(a.id),l.a.createElement(L.d,{query:$e,variables:{id:a.id}},(function(e){var n=e.data,r=e.loading,c=e.error;if(r)return l.a.createElement(Q,null);var o=n.driver;return l.a.createElement(ze.Provider,{value:a},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{isLoggedIn:t,currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/driver/:id/profile/",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(fe,{driver:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/driver/:id/history/",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(we,{driver:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/driver/:id/crash",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(je,{driver:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/driver/:id/addVehicle",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(Se,{driver:o}),currentUser:a})}})),c&&l.a.createElement(D,{error:c}))}))},Te=a(288),Be=a(533),qe=a(239),Ve=a.n(qe),Pe=(a(527),a(228),pe.a.Option),Re={labelCol:{span:6},wrapperCol:{span:14}},We=function(e){Object(_.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={selected:!1},n}return Object(Z.a)(a,[{key:"componentDidMount",value:function(){Ve.a.accessToken="pk.eyJ1IjoibW9zdGFmYWdoYWRpbWkiLCJhIjoiY2tiNXM5aDN1MWExMDJvcGE5OWZxZzZzaSJ9.PSVotM-8-Uz6-oAUFIxpRA";new Ve.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[51.388973,35.689198],zoom:12})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"order-container"},l.a.createElement(ue.a,null,"\u0633\u0641\u0627\u0631\u0634"),l.a.createElement(te.a,Object.assign({className:"padding",name:"Add Order"},Re,{onFinish:function(e){console.log("Received values of form: ",e)}}),l.a.createElement(me.a,null,l.a.createElement(de.a,{span:15},l.a.createElement(te.a.Item,{label:"\u0635\u0627\u062d\u0628 \u0628\u0627\u0631"},"\u0627\u0645\u06cc\u0631\u062d\u0633\u0646 \u0641\u062a\u062d\u06cc"),l.a.createElement(te.a.Item,{label:"\u0622\u062f\u0631\u0633 \u0645\u0628\u062f\u0627"},"\u067e\u0627\u0633\u062f\u0627\u0631\u0627\u0646\u060c \u0622\u0634\u067e\u0632\u062e\u0648\u0646\u0647 \u062d\u0627\u062c \u0646\u0627\u0635\u0631\u060c \u0627\u0646\u0628\u0627\u0631 \u062d\u0627\u062c \u0645\u0647\u0631\u062f\u0627\u062f\u060c \u067e\u0644\u0627\u06a9 \u06f2\u06f4\u060c \u0627\u0633\u0645 \u0631\u0645\u0632 \u0633\u0644\u0637\u0627\u0646"),l.a.createElement(te.a.Item,{label:"\u0622\u062f\u0631\u0633 \u0645\u0642\u0635\u062f"},"\u06cc\u0627\u062e\u0686\u06cc\u200c\u0622\u0628\u0627\u062f\u060c \u0686\u0647\u0627\u0631\u0631\u0627\u0647 \u062f\u062e\u0627\u0646\u06cc\u0627\u062a"),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062a\u062d\u0648\u06cc\u0644\u200c\u06af\u06cc\u0631\u0646\u062f\u0647"},"\u0627\u0645\u06cc\u0631\u0647\u0648\u0634\u0646\u06af \u0627\u06a9\u0628\u0631\u06cc"),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u062d\u0648\u06cc\u0644\u200c\u06af\u06cc\u0631\u0646\u062f\u0647"},"09120727715"),l.a.createElement(te.a.Item,{label:"\u0648\u0632\u0646 \u0628\u0627\u0631"},"250 \u06a9\u06cc\u0644\u0648\u06af\u0631\u0645"),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u062d\u0648\u06cc\u0644 \u0628\u0627\u0631"},"1399/08/25"),l.a.createElement(te.a.Item,{label:"\u0648\u0636\u0639\u06cc\u062a"},"\u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644"),l.a.createElement(te.a.Item,{wrapperCol:{span:12,offset:6}},l.a.createElement(Be.a,null,l.a.createElement(I.a,{type:"primary",htmlType:"submit",onClick:function(){Te.a.success("\u0628\u0627\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f.")}},"\u062a\u0627\u06cc\u06cc\u062f \u062a\u062d\u0648\u06cc\u0644 \u0628\u0627\u0631")))),l.a.createElement(de.a,{span:9},l.a.createElement("div",{id:"map",style:{width:400,height:400}})))),l.a.createElement(ue.a,null,"\u0631\u0627\u0646\u0646\u062f\u0647"),this.state.selected?l.a.createElement("div",null,l.a.createElement(ve,null),l.a.createElement("br",null),l.a.createElement(I.a,{className:"change-driver-btn",type:"primary",onClick:function(t){return e.setState({selected:!1})}},"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0627\u0646\u0646\u062f\u0647")):l.a.createElement("div",null,l.a.createElement(te.a,{layout:"inline"},l.a.createElement(te.a.Item,{label:"\u0627\u062e\u062a\u0635\u0627\u0635 \u0631\u0627\u0646\u0646\u062f\u0647"},l.a.createElement(pe.a,{placeholder:"\u0631\u0627\u0646\u0646\u062f\u0647"},l.a.createElement(Pe,{value:"1"},"\u0627\u0645\u06cc\u0631\u062d\u0633\u0646 \u0641\u062a\u062d\u06cc"))),l.a.createElement(te.a.Item,null,l.a.createElement(I.a,{type:"primary",onClick:function(t){return e.setState({selected:!0})}},"\u062b\u0628\u062a")))))}}]),a}(r.Component),Ye=a(534),Ze={labelCol:{span:6},wrapperCol:{span:14}},_e=function(e){var t=e.customer;return l.a.createElement("div",{className:"user-profile"},l.a.createElement(ue.a,null,"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"),l.a.createElement(te.a,Ze,l.a.createElement(te.a.Item,{label:"\u0639\u06a9\u0633 \u06a9\u0627\u0631\u0628\u0631"},l.a.createElement(Ye.a,{src:a(275),size:100})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{value:t.user.firstName,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{value:t.user.lastName,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(S.a,{value:t.user.birthday,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{value:t.user.phoneNo,type:"tel",disabled:!0}))))};function Me(){var e=Object(n.a)(["\nquery ($id : ID!){\n    customerDrivers(id:$id) {\n        id,\n        user{\n            firstName,\n            lastName\n        }\n        latitude,\n        longitude,\n        rating,\n        orders{\n          latitude\n          longitude\n        }\n        driverStatus,\n        rating\n    }\n}\n"]);return Me=function(){return e},e}var Fe=[{title:"\u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647",dataIndex:"driver"},{title:"\u0648\u0636\u0639\u06cc\u062a",dataIndex:"status",filters:[{text:"\u0622\u0632\u0627\u062f",value:"free"},{text:"\u062f\u0631 \u0645\u0627\u0645\u0648\u0631\u06cc\u062a",value:"on-duty"},{text:"\u062a\u0635\u0627\u062f\u0641 \u06a9\u0631\u062f\u0647",value:"crashed"}],onFilter:function(e,t){return 0===t.address.indexOf(e)}},{title:"\u0645\u0648\u0642\u0639\u06cc\u062a \u062c\u063a\u0631\u0627\u0641\u06cc\u0627\u06cc\u06cc",dataIndex:"location"},{title:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647",dataIndex:"history"},{title:"\u0627\u0645\u062a\u06cc\u0627\u0632",dataIndex:"score"}],He=S.a.Search,Je=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627"),l.a.createElement(He,{placeholder:"\u062c\u0633\u062a\u200c\u0648\u062c\u0648 \u062f\u0631 \u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:400}}))},Ge=Object(ee.b)(Me()),Ke=function(e){var t=e.customer,a=Object(r.useState)(!1),n=Object(C.a)(a,2),c=(n[0],n[1]),o=Object(r.useState)(!1),i=Object(C.a)(o,2),u=(i[0],i[1],{bordered:!0,loading:!1,pagination:!1,size:"default",title:Je,showHeader:!0,rowSelection:{},scroll:void 0,tableLayout:void 0,top:"none",bottom:"bottomRight"}),s=function(){c(!0)},m=[];return l.a.createElement(L.d,{query:Ge,variables:{id:t.user.id}},(function(e){var t=e.data,a=e.loading,n=e.error;if(a)return l.a.createElement(Q,null);console.log(t);var r=[{title:"\u0645\u06a9\u0627\u0646 \u0633\u0641\u0627\u0631\u0634",dataIndex:"orderLocation"}],c=[];return t.customerDrivers.map((function(e){e.orders.map((function(e){c.push({orderLocation:"("+e.latitude+", "+e.longitude+")"})})),m.push({key:e.id,driver:e.user.firstName+" "+e.user.lastName,status:l.a.createElement("div",{className:"driver-status"},l.a.createElement("span",null,"A_1"===e.driverStatus?"\u0622\u0632\u0627\u062f":"A_2"===e.driverStatus?"\u062f\u0631 \u0645\u0627\u0645\u0648\u0631\u06cc\u062a":"A_3"===e.driverStatus?"\u062a\u0635\u0627\u062f\u0641 \u06a9\u0631\u062f\u0647":"")),location:l.a.createElement(I.a,{key:e.id,onClick:s},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0631\u0648\u06cc \u0646\u0642\u0634\u0647"),history:l.a.createElement("div",null,l.a.createElement(I.a,{key:e.id,onClick:function(){return e="\u0646\u0645\u0627\u06cc\u0634 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u0631\u0627\u0646\u0646\u062f\u0647",t=l.a.createElement(Ne.a,{columns:r,dataSource:c}),void k.a.info({title:e,content:t,onOk:function(){}});var e,t}},"\u0645\u0634\u0627\u0647\u062f\u0647 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647")),score:e.rating})})),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,Object.assign({},u,{columns:Fe,dataSource:m})),n&&l.a.createElement(D,{error:n}))}))};function Xe(){var e=Object(n.a)(["\nquery ($id : ID!){\n    customerOrders(id : $id) {\n        id,\n        owner{\n            user{\n                firstName,\n                lastName\n            }\n        },\n        driver{\n            user{\n                firstName,\n                lastName\n            }\n        },\n        destinationAddress,\n        orderCode,\n        transportationCost,\n        orderStatus\n    }\n}\n"]);return Xe=function(){return e},e}var Qe=[{title:"\u0635\u0627\u062d\u0628 \u0628\u0627\u0631",dataIndex:"orderer"},{title:"\u0631\u0627\u0646\u0646\u062f\u0647",dataIndex:"deliverer"},{title:"\u0622\u062f\u0631\u0633",dataIndex:"address",filters:[{text:"\u062a\u0647\u0631\u0627\u0646",value:"Tehran"},{text:"\u0634\u06cc\u0631\u0627\u0632",value:"Shiraz"}],onFilter:function(e,t){return 0===t.address.indexOf(e)}},{title:"\u0648\u0636\u0639\u06cc\u062a",dataIndex:"status",filters:[{text:"\u062b\u0628\u062a \u0634\u062f\u0647",value:"submitted"},{text:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc",value:"loading"},{text:"\u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644",value:"sending"},{text:"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647",value:"delivered"}],onFilter:function(e,t){return 0===t.address.indexOf(e)}},{title:"\u0647\u0632\u06cc\u0646\u0647",dataIndex:"cost"}],et=Object(ee.b)(Xe()),tt=function(e){var t=e.customer,a=Object(r.useState)(!1),n=Object(C.a)(a,2),c=(n[0],n[1],{visible:!1,bordered:!0,loading:!1,pagination:!1,size:"default",title:function(){return"\u0633\u0641\u0627\u0631\u0634\u200c\u0647\u0627\u06cc \u062b\u0628\u062a \u0634\u062f\u0647"},showHeader:!0,rowSelection:{},scroll:void 0,tableLayout:void 0,top:"none",bottom:"bottomRight"}),o=[];return l.a.createElement(L.d,{query:et,variables:{id:t.id}},(function(e){var t=e.data,a=e.loading,n=e.error;return a?l.a.createElement(Q,null):(t.customerOrders.map((function(e){o.push({kay:e.id,orderer:e.owner.user.firstName+" "+e.owner.user.lastName,deliverer:e.driver.user.firstName+" "+e.driver.user.lastName,address:e.destinationAddress,cost:e.transportationCost,status:"A_1"===e.orderStatus?"\u062b\u0628\u062a \u0634\u062f\u0647":"A_2"===e.orderStatus?"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc":"A_3"===e.orderStatus?"\u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644":"A_4"===e.orderStatus?"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647":""}),console.log(o)})),console.log(o),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,Object.assign({},c,{columns:Qe,dataSource:o})),n&&l.a.createElement(D,{error:n})))}))};function at(){var e=Object(n.a)(["\nmutation ($orderCode: String!, $orderData : OrderInput){\n  createOrder(orderCode: $orderCode, orderData: $orderData){\n     order { \n         id\n     }\n  }\n}\n"]);return at=function(){return e},e}var nt={labelCol:{span:6},wrapperCol:{span:14}},rt=S.a.TextArea,lt=Object(ee.b)(at()),ct=function(e){var t=e.customer,a=Object(r.useState)(""),n=Object(C.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(""),u=Object(C.a)(i,2),s=u[0],m=u[1],d=Object(r.useState)(""),b=Object(C.a)(d,2),E=b[0],g=b[1],v=Object(r.useState)(""),f=Object(C.a)(v,2),p=f[0],h=f[1],O=Object(r.useState)(!1),j=Object(C.a)(O,2),y=(j[0],j[1]),N=Object(r.useState)(null),x=Object(C.a)(N,2),w=x[0],A=x[1],z=Object(r.useState)(null),$=Object(C.a)(z,2),U=$[0],T=$[1],B=Object(r.useState)(""),q=Object(C.a)(B,2),V=(q[0],q[1]);return l.a.createElement(L.c,{mutation:lt,variables:{orderData:{ownerId:t.id,destinationAddress:s},orderCode:"234567"},onCompleted:function(){var e;e="\u0633\u0641\u0627\u0631\u0634 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0634\u062f",k.a.info({title:e,onOk:function(){}})}},(function(e,a){var n=a.loading,r=a.error;return l.a.createElement(te.a,Object.assign({className:"order-container padding",name:"Add Order"},nt),l.a.createElement(te.a.Item,{label:"\u0635\u0627\u062d\u0628 \u0628\u0627\u0631"},l.a.createElement(S.a,{placeholder:t.user.firstName+" "+t.user.lastName,disabled:!0})),l.a.createElement(te.a.Item,{label:"\u0622\u062f\u0631\u0633 \u0645\u0628\u062f\u0627"},l.a.createElement(S.a,{placeholder:"\u0622\u062f\u0631\u0633 \u0645\u0628\u062f\u0627 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc",type:"text",onChange:function(e){return o(e.target.value)}})),l.a.createElement(te.a.Item,{label:"\u0622\u062f\u0631\u0633 \u0645\u0642\u0635\u062f"},l.a.createElement(S.a,{placeholder:"\u0622\u062f\u0631\u0633 \u0645\u0642\u0635\u062f \u062a\u062d\u0648\u06cc\u0644 \u0628\u0627\u0631",type:"text",onChange:function(e){return m(e.target.value)}})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062a\u062d\u0648\u06cc\u0644\u200c\u06af\u06cc\u0631\u0646\u062f\u0647"},l.a.createElement(S.a,{placeholder:"\u0646\u0627\u0645 \u062a\u062d\u0648\u06cc\u0644\u200c\u06af\u06cc\u0631\u0646\u062f\u0647 \u0628\u0627\u0631",type:"text",onChange:function(e){return g(e.target.value)}})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633 \u062a\u062d\u0648\u06cc\u0644\u200c\u06af\u06cc\u0631\u0646\u062f\u0647 \u0628\u0627\u0631",type:"tel",onChange:function(e){return h(e.target.value)}})),l.a.createElement(te.a.Item,{label:"\u0648\u0632\u0646 \u0628\u0627\u0631"},l.a.createElement(S.a,{placeholder:"\u0648\u0632\u0646 \u0628\u0627\u0631 \u0628\u0647 \u0639\u062f\u062f (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",type:"number",onChange:function(e){return A(e.target.value)}})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u062d\u0648\u06cc\u0644 \u0628\u0627\u0631"},l.a.createElement(ae.a,{onChange:function(e){return T(e)}})),l.a.createElement(te.a.Item,{label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"},l.a.createElement(rt,{rows:4,placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0631\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",onChange:function(e){return V(e.target.value)}})),l.a.createElement(te.a.Item,{wrapperCol:{span:12,offset:6}},l.a.createElement(I.a,{type:"primary",htmlType:"submit",disabled:n||!c.trim()||!s.trim()||!E.trim()||!w||!U||!p.trim(),onClick:function(t){return function(e,t,a){console.log("In the handleSubmit"),e.preventDefault(),t(),a||y(!0)}(t,e,r)}},n?"\u062f\u0631 \u062d\u0627\u0644 \u062b\u0628\u062a \u06a9\u0631\u062f\u0646...":"\u062b\u0628\u062a \u0633\u0641\u0627\u0631\u0634")),r&&l.a.createElement(D,{error:r}))}))};function ot(){var e=Object(n.a)(["\n    query ($id : ID!){\n        customer (id: $id){\n            user{\n                id\n                firstName\n                lastName\n                username\n                password\n                phoneNo\n                email\n            }\n            id\n        }\n    }\n"]);return ot=function(){return e},e}var it=l.a.createContext(),ut=Object(ee.b)(ot()),st=function(e){var t=e.isLoggedIn,a=e.currentUser;return l.a.createElement(L.d,{query:ut,variables:{id:a.id}},(function(e){var n=e.data,r=e.loading,c=e.error;if(r)return l.a.createElement(Q,null);var o=n.customer;return l.a.createElement(it.Provider,{value:a},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{isLoggedIn:t,currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/customer/:id/orderList",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(tt,{customer:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/customer/:id/addOrder",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(ct,{customer:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/customer/:id/orderDetail",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(We,{customer:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/customer/:id/driverList",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(Ke,{customer:o}),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/user/:id/profile/",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(_e,{customer:o}),currentUser:a})}})),c&&l.a.createElement(D,{error:c}))}))};function mt(){var e=Object(n.a)(["\nmutation($id: ID!){\n     deleteDriver (id:$id){\n      id\n    }\n}\n"]);return mt=function(){return e},e}function dt(){var e=Object(n.a)(["\nmutation($id: ID!){\n    verifyDriver (id:$id){\n        driver{\n            id\n        }\n    }\n}\n"]);return dt=function(){return e},e}function bt(){var e=Object(n.a)(["\n    {\n    unverifiedDrivers {\n        user{\n            id,\n            firstName,\n            lastName,\n            username,\n            email,\n            phoneNo\n        }\n        nationalId\n    }\n}\n"]);return bt=function(){return e},e}var Et=[{title:"\u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647",dataIndex:"firstName"},{title:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0631\u0627\u0646\u0646\u062f\u0647",dataIndex:"lastName"},{title:"\u0627\u06cc\u0645\u06cc\u0644",dataIndex:"email"},{title:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",dataIndex:"username"},{title:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644",dataIndex:"phoneNo"},{title:"\u06a9\u062f \u0645\u0644\u06cc",dataIndex:"nationalId"},{title:"\u062a\u0627\u06cc\u06cc\u062f \u0648 \u0631\u062f",dataIndex:"verifyRemove"}],gt=Object(ee.b)(bt()),vt=Object(ee.b)(dt()),ft=Object(ee.b)(mt()),pt=function(e){e.currentUser;var t=[];function a(e){k.a.info({title:e,onOk:function(){}})}var n=Object(r.useState)(!1),c=Object(C.a)(n,2),o=(c[0],c[1],Object(r.useState)("")),i=Object(C.a)(o,2),u=(i[0],i[1],Object(r.useState)("")),s=Object(C.a)(u,2);s[0],s[1];return l.a.createElement(L.d,{query:gt},(function(e){var n=e.data,r=e.loading,c=e.error;return r?l.a.createElement(Q,null):(n.unverifiedDrivers.map((function(e){t.push({key:e.id,firstName:e.user.firstName,lastName:e.user.lastName,username:e.user.username,email:e.user.email,phoneNo:e.user.phoneNo,nationalId:e.nationalId,verifyRemove:l.a.createElement("div",{className:"driver-status"},l.a.createElement(L.c,{mutation:vt,variables:{id:e.user.id},onCompleted:function(){a("\u0647\u0648\u06cc\u062a \u0631\u0627\u0646\u0646\u062f\u0647 \u062a\u0627\u06cc\u06cc\u062f \u0634\u062f")}},(function(a,n){return l.a.createElement("div",null,l.a.createElement(I.a,{onClick:function(n){return function(e,a,n){e.preventDefault(),a(),delete t[n]}(n,a,e.id)},disabled:n.loading},n.loading?"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0627\u06cc\u06cc\u062f \u06a9\u0631\u062f\u0646...":"\u062a\u0627\u06cc\u06cc\u062f"),n.error&&l.a.createElement(D,{error:n.error}))})),l.a.createElement(L.c,{mutation:ft,variables:{id:e.user.id},onCompleted:function(){a("\u0647\u0648\u06cc\u062a \u0631\u0627\u0646\u0646\u062f\u0647 \u0631\u062f \u0634\u062f")}},(function(a,n){return l.a.createElement("div",null,l.a.createElement(I.a,{onClick:function(n){return function(e,a,n){e.preventDefault(),a(),delete t[n]}(n,a,e.id)},disabled:n.loading},n.loading?"\u062f\u0631 \u062d\u0627\u0644 \u0631\u062f \u06a9\u0631\u062f\u0646...":"\u0631\u062f"),n.error&&l.a.createElement(D,{error:n.error}))})))})})),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,{columns:Et,dataSource:t}),c&&l.a.createElement(D,{error:c})))}))},ht=l.a.createContext(),It=function(e){var t=e.isLoggedIn,a=e.currentUser;return l.a.createElement(ht.Provider,{value:a},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{isLoggedIn:t,currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/authorizer/:id/authorizeDrivers",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(pt,{currentUser:a}),currentUser:a})}})))},Ot=a(77),jt=a(551),yt=a(552),Ct=a(74),kt=a.n(Ct);function St(){var e=Object(n.a)(["\n  mutation ($id : ID!, $driverData: DriverInput!) {\n  updateDriver(id: $id, driverData: $driverData) {\n    driver{\n       user{\n        firstName\n        lastName\n       }\n    }\n  }\n}\n"]);return St=function(){return e},e}var Nt={labelCol:{span:5},wrapperCol:{span:10}},Lt=function(e){var t=e.driver,a=e.visible,n=e.setVisible,c=Object(r.useState)(t.user.username),o=Object(C.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)(!0),m=Object(C.a)(s,2),d=m[0],b=m[1],E=Object(r.useState)(t.user.email),g=Object(C.a)(E,2),v=g[0],f=g[1],p=Object(r.useState)(!0),h=Object(C.a)(p,2),I=h[0],O=h[1],N=Object(r.useState)(t.user.password),x=Object(C.a)(N,2),w=x[0],A=x[1],z=Object(r.useState)(!0),$=Object(C.a)(z,2),U=$[0],T=$[1],B=Object(r.useState)(t.user.firstName),q=Object(C.a)(B,2),V=q[0],P=q[1],R=Object(r.useState)(!0),W=Object(C.a)(R,2),Y=W[0],Z=W[1],_=Object(r.useState)(t.user.lastName),M=Object(C.a)(_,2),F=M[0],H=M[1],J=Object(r.useState)(!0),G=Object(C.a)(J,2),K=G[0],X=G[1],Q=Object(r.useState)(t.nationalID),ee=Object(C.a)(Q,2),ne=ee[0],re=ee[1],le=Object(r.useState)(!0),ce=Object(C.a)(le,2),oe=ce[0],ie=ce[1],ue=Object(r.useState)(t.birthday),se=Object(C.a)(ue,2),me=se[0],de=se[1],Ee=Object(r.useState)(t.user.phoneNo),ge=Object(C.a)(Ee,2),ve=ge[0],fe=ge[1],pe=Object(r.useState)(!0),he=Object(C.a)(pe,2),Ie=he[0],Oe=he[1],je=function(){var e=Object(y.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("In the handleSubmit"),t.preventDefault(),a(),n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(L.c,{mutation:xt,variables:{driverData:{user:{firstName:V,lastName:F,username:i,email:v,phoneNo:ve,password:w},nationalId:ne,birthday:me},id:t.id}},(function(e,r){var c=r.loading,o=r.error;return l.a.createElement(k.a,{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0631\u0627\u0646\u0646\u062f\u0647",visible:a,onOk:function(t){return je(t,e)},onCancel:function(){return n(!1)},okButtonProps:{disabled:c||!Y||!K||!d||!oe||!I||!U||!Ie},okText:c?"\u062f\u0631 \u062d\u0627\u0644 \u0648\u06cc\u0631\u0627\u06cc\u0634...":"\u0648\u06cc\u0631\u0627\u06cc\u0634",cancelText:"\u0644\u063a\u0648"},l.a.createElement(te.a,Object.assign({name:"edit driver"},Nt,{onComplete:function(){return e="\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u06cc\u0642\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0631\u062f!",t="",void k.a.info({title:e,content:t,onOk:function(){}});var e,t}}),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{id:"name",onChange:function(e){P(e.target.value),Z(!!V)},defaultValue:t.user.firstName})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{id:"familyName",onChange:function(e){H(e.target.value),X(!!V)},defaultValue:t.user.lastName})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},l.a.createElement(S.a,{id:"username",onChange:function(e){u(e.target.value),b(!!i)},defaultValue:t.user.username})),l.a.createElement(te.a.Item,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},l.a.createElement(S.a,{id:"password",onChange:function(e){A(e.target.value),T(!!w)}})),l.a.createElement(te.a.Item,{label:"\u0627\u06cc\u0645\u06cc\u0644"},l.a.createElement(S.a,{id:"email",onChange:function(e){null!=e.target.value.match("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[.][A-Za-z]{2,}$")?(f(e.target.value),O(!0),document.getElementById("email").style.backgroundColor="white"):(O(!1),document.getElementById("email").style.backgroundColor="pink")},defaultValue:t.user.email})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{id:"phoneNumber",onChange:function(e){null!=e.target.value.match("^[0-9]{8,11}$")?(fe(e.target.value),Oe(!0),document.getElementById("phoneNumber").style.backgroundColor="white"):(Oe(!1),document.getElementById("phoneNumber").style.backgroundColor="pink")},defaultValue:t.user.phoneNo})),l.a.createElement(te.a.Item,{label:"\u06a9\u062f \u0645\u0644\u06cc"},l.a.createElement(S.a,{id:"nationalId",onChange:function(e){null!=e.target.value.match("^[0-9]{10}$")?(re(e.target.value),ie(!0),document.getElementById("nationalId").style.backgroundColor="white"):(document.getElementById("nationalId").style.backgroundColor="pink",ie(!1))},defaultValue:t.nationalId})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(ae.a,{id:"birthDay",onChange:function(e){de(e)},defaultValue:me?kt()(me,"YYYY-MM-DD"):""})),l.a.createElement(te.a.Item,{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},l.a.createElement(be.a,{disabled:!0,defaultValue:t.rating})),o&&l.a.createElement(D,{error:o})))}))},xt=Object(x.gql)(St());function Dt(){var e=Object(n.a)(["\n  mutation ($driverData: DriverInput!) {\n  createDriver(driverData: $driverData) {\n    driver{\n       user{\n        firstName\n        lastName\n       }\n    }\n  }\n}\n"]);return Dt=function(){return e},e}var wt={labelCol:{span:5},wrapperCol:{span:10}},At=function(e){var t=e.visible,a=e.setVisible,n=Object(r.useState)(""),c=Object(C.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(!1),s=Object(C.a)(u,2),m=s[0],d=s[1],b=Object(r.useState)(""),E=Object(C.a)(b,2),g=E[0],v=E[1],f=Object(r.useState)(!1),p=Object(C.a)(f,2),h=p[0],I=p[1],O=Object(r.useState)(""),N=Object(C.a)(O,2),x=N[0],w=N[1],A=Object(r.useState)(!1),z=Object(C.a)(A,2),$=z[0],U=z[1],T=Object(r.useState)(""),B=Object(C.a)(T,2),q=B[0],V=B[1],P=Object(r.useState)(!1),R=Object(C.a)(P,2),W=R[0],Y=R[1],Z=Object(r.useState)(""),_=Object(C.a)(Z,2),M=_[0],F=_[1],H=Object(r.useState)(!1),J=Object(C.a)(H,2),G=J[0],K=J[1],X=Object(r.useState)(""),Q=Object(C.a)(X,2),ee=Q[0],ne=Q[1],re=Object(r.useState)(!1),le=Object(C.a)(re,2),ce=le[0],oe=le[1],ie=Object(r.useState)(""),ue=Object(C.a)(ie,2),se=ue[0],me=ue[1],de=Object(r.useState)(""),Ee=Object(C.a)(de,2),ge=Ee[0],ve=Ee[1],fe=Object(r.useState)(!1),pe=Object(C.a)(fe,2),he=pe[0],Ie=pe[1],Oe=function(){var e=Object(y.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("In the handleSubmit"),t.preventDefault(),n(),a(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(L.c,{mutation:zt,variables:{driverData:{user:{firstName:q,lastName:M,username:o,email:g,phoneNo:ge,password:x},nationalId:ee,birthday:se}}},(function(e,n){var r=n.loading,c=n.error;return l.a.createElement(k.a,{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0631\u0627\u0646\u0646\u062f\u0647",visible:t,onOk:function(t){return Oe(t,e)},onCancel:function(){return a(!1)},okButtonProps:{disabled:r||!W||!G||!m||!ce||!h||!$||!he},okText:r?"\u062f\u0631 \u062d\u0627\u0644 \u0648\u06cc\u0631\u0627\u06cc\u0634...":"\u0648\u06cc\u0631\u0627\u06cc\u0634",cancelText:"\u0644\u063a\u0648"},l.a.createElement(te.a,Object.assign({name:"edit driver"},wt,{onComplete:function(){return e="\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u06cc\u0642\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0631\u062f!",t="",void k.a.info({title:e,content:t,onOk:function(){}});var e,t}}),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{id:"name",onChange:function(e){V(e.target.value),Y(!!q)},placeholder:"\u0627\u0645\u06cc\u0631\u062d\u0633\u06cc\u0646"})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{id:"familyName",onChange:function(e){F(e.target.value),K(!!q)},placeholder:"\u067e\u0648\u0633\u0627"})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},l.a.createElement(S.a,{id:"username",onChange:function(e){i(e.target.value),d(!!o)}})),l.a.createElement(te.a.Item,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},l.a.createElement(S.a,{id:"password",onChange:function(e){w(e.target.value),U(!!x)}})),l.a.createElement(te.a.Item,{label:"\u0627\u06cc\u0645\u06cc\u0644"},l.a.createElement(S.a,{id:"email",onChange:function(e){null!=e.target.value.match("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[.][A-Za-z]{2,}$")?(v(e.target.value),I(!0),document.getElementById("email").style.backgroundColor="white"):(I(!1),document.getElementById("email").style.backgroundColor="pink")},placeholder:"poosa@gmail.com"})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{id:"phoneNumber",onChange:function(e){null!=e.target.value.match("^[0-9]{8,11}$")?(ve(e.target.value),Ie(!0),document.getElementById("phoneNumber").style.backgroundColor="white"):(Ie(!1),document.getElementById("phoneNumber").style.backgroundColor="pink")},placeholder:"0912xxxxxxx"})),l.a.createElement(te.a.Item,{label:"\u06a9\u062f \u0645\u0644\u06cc"},l.a.createElement(S.a,{id:"nationalId",onChange:function(e){null!=e.target.value.match("^[0-9]{10}$")?(ne(e.target.value),oe(!0),document.getElementById("nationalId").style.backgroundColor="white"):(document.getElementById("nationalId").style.backgroundColor="pink",oe(!1))},placeholder:"0020123456"})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(ae.a,{id:"birthDay",onChange:function(e){me(e)}})),l.a.createElement(te.a.Item,{label:"\u0627\u0645\u062a\u06cc\u0627\u0632"},l.a.createElement(be.a,{disabled:!0,defaultValue:3})),c&&l.a.createElement(D,{error:c})))}))},zt=Object(x.gql)(Dt());function $t(){var e=Object(n.a)(["\nmutation($id: ID!){\n     deleteDriver (id:$id){\n      id\n    }\n}\n"]);return $t=function(){return e},e}function Ut(){var e=Object(n.a)(["\n{\n    allDrivers {\n        id\n        user{\n            id\n            firstName\n            lastName\n            username\n            password\n            email\n            phoneNo\n        }\n        latitude\n        longitude\n        rating\n        driverStatus\n        rating\n        profilePicture\n        birthday\n        nationalId\n        orders{\n          latitude\n          longitude\n        }\n    }\n}\n"]);return Ut=function(){return e},e}l.a.createContext();var Tt=[{title:"\u0646\u0627\u0645",dataIndex:"firstName"},{title:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",dataIndex:"lastName"},{title:"\u0648\u0636\u0639\u06cc\u062a",dataIndex:"status",filters:[{text:"\u0622\u0632\u0627\u062f",value:"free"},{text:"\u062f\u0631 \u0645\u0627\u0645\u0648\u0631\u06cc\u062a",value:"on-duty"},{text:"\u062a\u0635\u0627\u062f\u0641 \u06a9\u0631\u062f\u0647",value:"crashed"}],onFilter:function(e,t){return 0===t.address.indexOf(e)}},{title:"\u0645\u0648\u0642\u0639\u06cc\u062a \u062c\u063a\u0631\u0627\u0641\u06cc\u0627\u06cc\u06cc",dataIndex:"location"},{title:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647",dataIndex:"history"},{title:"\u0627\u0645\u062a\u06cc\u0627\u0632",dataIndex:"score"},{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 / \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646",dataIndex:"editDelete"}],Bt=S.a.Search,qt=Object(ee.b)(Ut()),Vt=Object(ee.b)($t()),Pt=function(e){e.customer;var t=Object(r.useState)(!1),a=Object(C.a)(t,2),n=(a[0],a[1],Object(r.useState)(!1)),c=Object(C.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(!1),s=Object(C.a)(u,2),m=s[0],d=s[1],b=Object(r.useState)(null),E=Object(C.a)(b,2),g=E[0],v=E[1],f={bordered:!0,loading:!1,pagination:!1,size:"default",title:function(){return l.a.createElement("div",null,l.a.createElement("p",null,"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627"),l.a.createElement(Bt,{placeholder:"\u062c\u0633\u062a\u200c\u0648\u062c\u0648 \u062f\u0631 \u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:400}}),l.a.createElement(I.a,{type:"primary",size:"large",style:{position:"absolute",up:2,left:1}},"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646"),l.a.createElement(At,{visible:m,setVisible:d}))},showHeader:!0,rowSelection:{},scroll:void 0,tableLayout:void 0,top:"none",bottom:"bottomRight"},p=[];function h(e,t){k.a.info({title:e,content:t,onOk:function(){}})}return l.a.createElement(L.d,{query:qt},(function(e){var t=e.data,a=e.loading,n=e.error;if(a)return l.a.createElement(Q,null);console.log(t);var r=[{title:"\u0645\u06a9\u0627\u0646 \u0633\u0641\u0627\u0631\u0634",dataIndex:"orderLocation"}],c=[];return t.allDrivers.map((function(e){e.orders.map((function(e){c.push({orderLocation:"("+e.latitude+", "+e.longitude+")"})})),p.push({key:e.id,firstName:e.user.firstName,lastName:e.user.lastName,status:l.a.createElement("div",{className:"driver-status"},l.a.createElement("span",null,"A_1"===e.driverStatus?"\u0622\u0632\u0627\u062f":"A_2"===e.driverStatus?"\u062f\u0631 \u0645\u0627\u0645\u0648\u0631\u06cc\u062a":"A_3"===e.driverStatus?"\u062a\u0635\u0627\u062f\u0641 \u06a9\u0631\u062f\u0647":"")),location:l.a.createElement(I.a,{key:4*e.id},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0631\u0648\u06cc \u0646\u0642\u0634\u0647"),history:l.a.createElement("div",null,l.a.createElement(I.a,{key:4*e.id+1,onClick:function(){return h("\u0646\u0645\u0627\u06cc\u0634 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u0631\u0627\u0646\u0646\u062f\u0647",l.a.createElement(Ne.a,{columns:r,dataSource:c}))}},"\u0645\u0634\u0627\u0647\u062f\u0647 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647")),score:e.rating,editDelete:l.a.createElement("div",null,l.a.createElement(Ot.a,{placement:"top",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634"},l.a.createElement(I.a,{key:4*e.id+2,shape:"circle",onClick:function(){return function(e){console.log(e),v(e),i(!0)}(e)}},l.a.createElement(jt.a,null))),l.a.createElement(L.c,{mutation:Vt,variables:{id:e.user.id},onCompleted:function(){h("\u0631\u0627\u0646\u0646\u062f\u0647 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}},(function(t,a){return l.a.createElement(Ot.a,{placement:"top",title:a.loading?"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646...":"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"},l.a.createElement(I.a,{key:4*e.id+3,shape:"circle",onClick:function(e){return function(e,t){e.preventDefault(),t()}(e,t)},disabled:a.loading},l.a.createElement(yt.a,null)),a.error&&l.a.createElement(D,{error:a.error}))})))})})),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,Object.assign({},f,{columns:Tt,dataSource:p})),n&&l.a.createElement(D,{error:n}),g&&l.a.createElement(Lt,{driver:g,visible:o,setVisible:i}))}))};function Rt(){var e=Object(n.a)(["\n  mutation ($id : ID!, $customerData: CustomerInput!) {\n  updateCustomer(id: $id, customerData: $customerData) {\n    customer{\n       user{\n        firstName\n        lastName\n       }\n    }\n  }\n}\n"]);return Rt=function(){return e},e}var Wt={labelCol:{span:5},wrapperCol:{span:10}},Yt=function(e){var t=e.customer,a=e.visible,n=e.setVisible,c=Object(r.useState)(t.user.username),o=Object(C.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)(!0),m=Object(C.a)(s,2),d=m[0],b=m[1],E=Object(r.useState)(t.user.email),g=Object(C.a)(E,2),v=g[0],f=g[1],p=Object(r.useState)(!0),h=Object(C.a)(p,2),I=h[0],O=h[1],N=Object(r.useState)(t.user.password),x=Object(C.a)(N,2),w=x[0],A=x[1],z=Object(r.useState)(!0),$=Object(C.a)(z,2),U=$[0],T=$[1],B=Object(r.useState)(t.user.firstName),q=Object(C.a)(B,2),V=q[0],P=q[1],R=Object(r.useState)(!0),W=Object(C.a)(R,2),Y=W[0],Z=W[1],_=Object(r.useState)(t.user.lastName),M=Object(C.a)(_,2),F=M[0],H=M[1],J=Object(r.useState)(!0),G=Object(C.a)(J,2),K=G[0],X=G[1],Q=Object(r.useState)(t.birthday),ee=Object(C.a)(Q,2),ne=ee[0],re=ee[1],le=Object(r.useState)(t.user.phoneNo),ce=Object(C.a)(le,2),oe=ce[0],ie=ce[1],ue=Object(r.useState)(!0),se=Object(C.a)(ue,2),me=se[0],de=se[1],be=function(){var e=Object(y.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("In the handleSubmit"),t.preventDefault(),a(),n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement(L.c,{mutation:Zt,variables:{customerData:{user:{firstName:V,lastName:F,username:i,email:v,phoneNo:oe,password:w},birthday:ne}}},(function(e,r){var c=r.loading,o=r.error;return l.a.createElement(k.a,{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0631\u0627\u0646\u0646\u062f\u0647",visible:a,onOk:function(t){return be(t,e)},onCancel:function(){return n(!1)},okButtonProps:{disabled:c||!Y||!K||!d||!I||!U||!me},okText:c?"\u062f\u0631 \u062d\u0627\u0644 \u0648\u06cc\u0631\u0627\u06cc\u0634...":"\u0648\u06cc\u0631\u0627\u06cc\u0634",cancelText:"\u0644\u063a\u0648"},l.a.createElement(te.a,Object.assign({name:"edit customer"},Wt,{onComplete:function(){return e="\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u06cc\u0642\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0631\u062f!",t="",void k.a.info({title:e,content:t,onOk:function(){}});var e,t}}),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645"},l.a.createElement(S.a,{id:"name",onChange:function(e){P(e.target.value),Z(!!V)},defaultValue:t.user.firstName})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},l.a.createElement(S.a,{id:"familyName",onChange:function(e){H(e.target.value),X(!!V)},defaultValue:t.user.lastName})),l.a.createElement(te.a.Item,{label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},l.a.createElement(S.a,{id:"username",onChange:function(e){u(e.target.value),b(!!i)},defaultValue:t.user.username})),l.a.createElement(te.a.Item,{label:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"},l.a.createElement(S.a,{id:"password",onChange:function(e){A(e.target.value),T(!!w)}})),l.a.createElement(te.a.Item,{label:"\u0627\u06cc\u0645\u06cc\u0644"},l.a.createElement(S.a,{id:"email",onChange:function(e){null!=e.target.value.match("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[.][A-Za-z]{2,}$")?(f(e.target.value),O(!0),document.getElementById("email").style.backgroundColor="white"):(O(!1),document.getElementById("email").style.backgroundColor="pink")},defaultValue:t.user.email})),l.a.createElement(te.a.Item,{label:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"},l.a.createElement(S.a,{id:"phoneNumber",onChange:function(e){null!=e.target.value.match("^[0-9]{8,11}$")?(ie(e.target.value),de(!0),document.getElementById("phoneNumber").style.backgroundColor="white"):(de(!1),document.getElementById("phoneNumber").style.backgroundColor="pink")},defaultValue:t.user.phoneNo})),l.a.createElement(te.a.Item,{label:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},l.a.createElement(ae.a,{id:"birthDay",onChange:function(e){re(e)},defaultValue:ne?kt()(ne,"YYYY-MM-DD"):""})),o&&l.a.createElement(D,{error:o})))}))},Zt=Object(x.gql)(Rt());function _t(){var e=Object(n.a)(["\nmutation($id : ID!){\n    deleteCustomer (id : $id){\n      id\n    }\n}\n"]);return _t=function(){return e},e}function Mt(){var e=Object(n.a)(["\n{\n    allCustomers {\n        id\n        user{\n            id\n            firstName\n            lastName\n            username\n            password\n            email\n            phoneNo\n        }\n        birthday\n        orders {\n            longitude\n            latitude\n        }\n    }\n}\n"]);return Mt=function(){return e},e}l.a.createContext();var Ft=[{title:"\u0646\u0627\u0645",dataIndex:"firstName"},{title:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",dataIndex:"lastName"},{title:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647",dataIndex:"history"},{title:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f",dataIndex:"birthday"},{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 / \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646",dataIndex:"editDelete"}],Ht=S.a.Search,Jt=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627"),l.a.createElement(Ht,{placeholder:"\u062c\u0633\u062a\u200c\u0648\u062c\u0648 \u062f\u0631 \u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u0647\u200c\u0647\u0627",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:400}}))},Gt=Object(ee.b)(Mt()),Kt=Object(ee.b)(_t()),Xt=function(e){e.customer;var t=Object(r.useState)(!1),a=Object(C.a)(t,2),n=(a[0],a[1],Object(r.useState)(!1)),c=Object(C.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(!1),s=Object(C.a)(u,2),m=(s[0],s[1],Object(r.useState)(null)),d=Object(C.a)(m,2),b=d[0],E=d[1],g={bordered:!0,loading:!1,pagination:!1,size:"default",title:Jt,showHeader:!0,rowSelection:{},scroll:void 0,tableLayout:void 0,top:"none",bottom:"bottomRight"},v=[];function f(e,t){k.a.info({title:e,content:t,onOk:function(){}})}return l.a.createElement(L.d,{query:Gt},(function(e){var t=e.data,a=e.loading,n=e.error;if(a)return l.a.createElement(Q,null);console.log(t);var r=[{title:"\u0645\u06a9\u0627\u0646 \u0633\u0641\u0627\u0631\u0634",dataIndex:"orderLocation"}],c=[];return t.allCustomers.map((function(e){e.orders.map((function(e){c.push({orderLocation:"("+e.latitude+", "+e.longitude+")"})})),v.push({key:e.id,firstName:e.user.firstName,lastName:e.user.lastName,birthday:e.birthday,location:l.a.createElement(I.a,{key:4*e.id},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0631\u0648\u06cc \u0646\u0642\u0634\u0647"),history:l.a.createElement("div",null,l.a.createElement(I.a,{key:4*e.id+1,onClick:function(){return f("\u0646\u0645\u0627\u06cc\u0634 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u0631\u0627\u0646\u0646\u062f\u0647",l.a.createElement(Ne.a,{columns:r,dataSource:c}))}},"\u0645\u0634\u0627\u0647\u062f\u0647 \u062a\u0627\u0631\u06cc\u062e\u0686\u0647")),editDelete:l.a.createElement("div",null,l.a.createElement(Ot.a,{placement:"top",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634"},l.a.createElement(I.a,{key:4*e.id+2,shape:"circle",onClick:function(){return function(e){console.log(e),E(e),i(!0)}(e)}},l.a.createElement(jt.a,null))),l.a.createElement(L.c,{mutation:Kt,variables:{id:e.id},onCompleted:function(){f("\u0645\u0634\u062a\u0631\u06cc \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}},(function(t,a){return l.a.createElement(Ot.a,{placement:"top",title:a.loading?"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646...":"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"},l.a.createElement(I.a,{key:4*e.id+3,shape:"circle",onClick:function(e){return function(e,t){e.preventDefault(),t()}(e,t)},disabled:a.loading},l.a.createElement(yt.a,null)),a.error&&l.a.createElement(D,{error:a.error}))})))})})),l.a.createElement("div",{className:"order-container"},l.a.createElement(Ne.a,Object.assign({},g,{columns:Ft,dataSource:v})),n&&l.a.createElement(D,{error:n}),b&&l.a.createElement(Yt,{customer:b,visible:o,setVisible:i}))}))};function Qt(){var e=Object(n.a)(["\n    {\n        me{\n            id\n\n        }\n    }\n"]);return Qt=function(){return e},e}var ea=l.a.createContext(),ta=(Object(ee.b)(Qt()),function(e){var t=e.isLoggedIn,a=e.currentUser;return l.a.createElement(ea.Provider,{value:a},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{isLoggedIn:t,currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/admin/allDriversList",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(Pt,null),currentUser:a})}}),l.a.createElement(i.a,{exact:!0,path:"/admin/allCustomersList",render:function(){return l.a.createElement(W,{isLoggedIn:t,content:l.a.createElement(Xt,null),currentUser:a})}})))});function aa(){var e=Object(n.a)(["\n    {\n        me{\n            id\n        }\n    }\n"]);return aa=function(){return e},e}function na(){var e=Object(n.a)(["\n    query {\n        isDriverLoggedIn @client\n        isCustomerLoggedIn \n        isAuthorizerLoggedIn\n        isAdminLoggedIn\n    }\n"]);return na=function(){return e},e}var ra=new ee.a({uri:"http://localhost:8000/graphql",fetchOptions:{credentials:"include"},request:function(e){var t=localStorage.getItem("authToken")||"";e.setContext({headers:{Authorization:"JWT ".concat(t)}})},clientState:{defaults:{isDriverLoggedIn:localStorage.getItem("userType")==b.Driver,isCustomerLoggedIn:localStorage.getItem("userType")==b.Customer,isAuthorizerLoggedIn:localStorage.getItem("userType")==b.Authorizer,isAdminLoggedIn:localStorage.getItem("userType")==b.Admin}}}),la=Object(ee.b)(na()),ca=function(){return console.log(localStorage.getItem("userType")),console.log(b.Admin),console.log(localStorage.getItem("userType")===b.Admin),l.a.createElement(L.d,{query:la},(function(e){var t=e.data,a=e.loading,n=e.error;if(a)return l.a.createElement("div",null," loading ");if(n)return l.a.createElement(D,{error:n});var r=[];return r[b.Driver]=t.isDriverLoggedIn,r[b.Customer]=t.isCustomerLoggedIn,r[b.Authorizer]=t.isAuthorizerLoggedIn,r[b.Admin]=t.isAdminLoggedIn,console.log(r[b.Driver]),console.log(r[b.Customer]),console.log(r[b.Authorizer]),console.log(r[b.Admin]),r[b.Driver]||r[b.Customer]||r[b.Authorizer]||r[b.Admin]?l.a.createElement(L.d,{query:oa},(function(e){if(e.loading)return l.a.createElement(Q,null);if(e.error)return l.a.createElement(D,{error:e.error});var t=e.data.me;return console.log(e.data),r[b.Driver]?(console.log("HERE"),l.a.createElement(Ue,{isLoggedIn:r,currentUser:t})):r[b.Customer]?l.a.createElement(st,{isLoggedIn:r,currentUser:t}):r[b.Authorizer]?l.a.createElement(It,{isLoggedIn:r,currentUser:t}):l.a.createElement(ta,{isLoggedIn:r,currentUser:t})})):l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{isLoggedIn:r})}}),l.a.createElement(i.a,{exact:!0,path:"/driver/register",render:function(){return l.a.createElement(W,{isLoggedIn:r,content:l.a.createElement(ie,null)})}}),l.a.createElement(i.a,{exact:!0,path:"/install",render:function(){return l.a.createElement(W,{isLoggedIn:r,content:l.a.createElement(G,null)})}}))}))},oa=Object(ee.b)(aa());o.a.render(l.a.createElement(L.b,{client:ra},l.a.createElement(u.a,null,l.a.createElement(s.b,{direction:"rtl",locale:m.a},l.a.createElement(ca,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,a){}},[[314,1,2]]]);
//# sourceMappingURL=main.4cd9b495.chunk.js.map